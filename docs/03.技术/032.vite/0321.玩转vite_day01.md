---
title: vite
date: 2023-02-23 18:57:26
permalink: /pages/97221b/
categories:
  - 技术
  - vite
tags:
  - 
---

## 我的vite中plugin配置项
```js
import { fileURLToPath, URL } from "node:url";

import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import vueJsx from "@vitejs/plugin-vue-jsx";
// import Layouts from "vite-plugin-vue-layouts";
// https://vitejs.dev/config/
import Pages from "vite-plugin-pages";

// vite 升级以后插件不再使用
import OptimizationPersist from "vite-plugin-optimize-persist";
import PkgConfig from "vite-plugin-package-config";
const excludeRoutes = ["login", "register", "all"];
export default defineConfig({
  plugins: [
    vue(),
    vueJsx(),
    Pages({
      dirs: "src/views",
      exclude: ["**/components/**"],
      extendRoute(route: any, parent: any) {
        if (excludeRoutes.includes(route.name))
          return { ...route, meta: { auth: false } };
        return {
          ...route,
          meta: {
            auth: true,
          },
        };
      },
      importMode: "async",
    }),
  ],
  optimizeDeps: {
    include: [
      "vue",
      "lodash",
      "ant-design-vue/es",
      "@ant-design/icons-vue",
      "panzoom",
      "pinia",
      "axios",
      "vite-plugin-pages",
      "jsplumb",
      "html2canvas",
      "uuid",
      "codemirror",
      "echarts",
      "mockjs",
      "nprogress",
      "vue3-colorpicker",
      "vuedraggable",
      "vue3-sketch-ruler",
      "vue-codemirror",
      "vue-router",
      "sass",
      "@codemirror/lang-javascript",
      "@codemirror/theme-one-dark",
    ],
  },
  resolve: {
    alias: {
      "@": fileURLToPath(new URL("./src", import.meta.url)),
    },
  },
  server: {
    port: 8091,
  },
});

```
## 暂时没有系统学习过vite